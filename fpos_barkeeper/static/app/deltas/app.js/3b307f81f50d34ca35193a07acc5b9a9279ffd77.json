["function _3a3c088a93887e8c9e9748fb4062765f4c33e3c3",50,443796,"dataview.IndexBa",264385,42,"IndexBar\",config:{baseCls:\"x-indexbar\",direction:\"vertical\",letters:[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"],ui:\"alphabet\",listPrefix:null",321919,54,"],direction:\"vertical\",letters:[\"*\",\"#\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"]}],itemCls:\"x-\",updateDirection:function(a,c){var b=this.getBaseCls();this.element.replaceCls(b+\"-\"+c,b+\"-\"+a)},getElementConfig:function(){if",318732,53,"{return{reference:\"wrapper\",classList:[\"x-centered\",\"x-indexbar-wrapper\"]",300255,32,"\",classList:[\"x-indexbar-indicator\"],hidden:true",300255,32,"Inner\",classList:[\"x-indexbar-indicator-inner\"]}]},",253076,54,"else{return{reference:\"wrapper\",classList:[\"x-centered\",\"x-indexbar-wrapper\"]",253065,65,"},updateLetters:function(c){this.innerElement.setHtml(\"\");if(c){var b=c.length,a;for(a=0;a<b;a++){this.innerElement.createChild({html:c[a]})}}},updateListPrefix:function(a){if(a&&a.length){this.innerElement.createChild({html:a},0)}",359769,75,"innerElement.on(",466559,35,"end:this.onTouchEnd,dragend:this.onDragEnd,drag:this.onDrag,scope:this})},onTouchStart:function(a){a.stopPropagation();this.innerElement.addCls(this.getBaseCls()+\"-pressed\");this.pageBox=this.innerElement.getPageBox();this.onDrag(a)},onTouchEnd:function(a){this.onDragEnd()},onDragEnd:function(){this.innerElement.removeCls(this.getBaseCls()+\"-pressed\");if(this.indicator){this.indicator.hide()}},onDrag:function(d){var a=Ext.util.Point.fromEvent(d),c,b,h=this.pageBox;if(!h){h=this.pageBox=this.el.getPageBox()}if(this.getDirection()===\"vertical\"){if(a.y>h.bottom||a.y<h.top){return}c=Ext.Element.fromPoint(h.left+(h.width/2),a.y);b=c.getParent()==this.element;if(this.indicator){this.indicator.show();var f=this.indicator.getHeight()/2,g=a.y-this.element.getY();g=Math.min(Math.max(g,f),this.element.getHeight()-f);if(this.indicatorInner&&b){this.indicatorInner.setHtml(c.getHtml().toUpperCase())}this.indicator.setTop(g-(f))}}else{if(a.x>h.right||a.x<h.left){return}c=Ext.Element.fromPoint(a.x,h.top+(h.height/2));b=c.getParent()==this.element}if(c&&b){this.fireEvent(\"index\",this,c.dom.innerHTML,c",191994,33,",d=Array.prototype.slice.call(c.innerElement.dom.childNodes),b=d.length,a=0;for(;a<b;a++){Ext.removeNode(d[a]",362826,99,",\"IndexBar\",Ext,\"IndexBar",300943,39,"dataview.ListItemHeader",263597,36,"list-header\"}},0,[\"listitemheader\"],[\"component\",\"listitemheader\"],{component:true,listitemheader:true},[\"widget.listitemheader\"],0,[Ext.dataview,\"ListItemHead",384159,34,"view.component.ListItem\",Ext.dataview.component.DataItem,{config:{baseCls:\"x-list-item\",dataMap:null,body:{xtype:\"component\",cls:\"x-list-item-body\"},disclosure:{xtype:\"component\",cls:\"x-list-disclosure\",hidden:true,docked:\"right\"},header:{xtype:\"component\",cls:\"x-list-header\",html:\" \"},tpl:null,items:null},applyBody:function(a){if(a&&!a.isComponent){a=",319325,33,"getBody())}return a},updateBody",319895,33,"else{if(b){b.destroy()}}},applyHeader:function(a){if(a&&!a.isComponent){a=",319325,33,"getHeader())}return a},updateHeader:function(b,a){if(a){a.destroy()}},applyDisclosure:function(a){if(a&&!a.isComponent){a=",319325,33,"getDisclosure())}return a},updateDisclosur",301964,34,"else{if(a){a.destroy()}}},updateTpl:function(a){this.getBody().setTpl(a)},updateRecord:function(d){var f=this,c",355832,34,"d&&c.prepareData(d.getData(true),c.getStore().indexOf(d),d),e=f.getDataMap(),b=this.getBody(),h=this.getDisclosure();f._record=d;if(e){f.doMapData(e,g,b)}else{if(b){b.updateData(g||null)}}if(h&&d&&c.getOnItemDisclosure()){var a=c.getDisclosureProperty();h[(g.hasOwnProperty(a)&&g[a]===false)?\"hide\":\"show\"](",356007,32,209657,40,"Header());Ext.dataview.component.DataItem",261328,43,"0,[\"listitem",371230,33,"item\",\"listitem",284544,34,"dataitem:true,listitem:true},[\"widget.list",356152,34,"List",356190,51,"SimpleListItem",263597,36,"list-item\",disclosure:{xtype:\"component\",cls:\"x-list-disclosure\",hidden:true},header:{xtype:\"component\",cls:\"x-list-header\",html:\" \"},dataview:null,record:null},i",359502,34,"addCls(this.getBaseCls()+\"-tpl\")},applyHeader:function(a){if(a&&!a.isComponent){a=",319325,33,"getHeader())}return a},updateHeader:function(b,a){if(a){a.destroy()}},applyDisclosure:function(a){if(a&&!a.isComponent){a=",319325,33,"getDisclosure())}return a},updateDisclosure:function(b,a){if(b){this.element.appendChild(b.renderElement)}else{if(a){a.destroy()}}},updateRecord:function(c){var d=this,b=d.dataview||this.getDataview(),e=c&&b.prepareData(c.getData(true),b.getStore().indexOf(c),c),f=this.getDisclosure();d.updateData(e||null);if(f&&c&&b.getOnItemDisclosure()){var a=b.getDisclosureProperty();f[(e.hasOwnProperty(a)&&e[a]===false)?\"hide\":\"show\"]",209653,44,"Header(),this.getDisclosure());",362828,32,"apply(this,arguments)}},0,[\"simplelistitem\"],[\"component\",\"simplelistitem\"],{component:true,simplelistitem:true},[\"widget.simplelist",356152,34,"SimpleList",356190,32,"util.PositionMap\",Ext.Base,{config:{minimumHeight:",212604,33,"map=[];this.adjustments={};this.offset=0;this.initConfig(a)},populate:function(d,g){var f=this.map=this.map||[],a=this.getMinimumHeight(),b,e,c;g=g||0;d++;f.length=d;f[0]=0;for(b=g+1,c=d-1;b<=c;b++){e=b-1;f[b]=f[e]+a}this.adjustments={indices:[],heights:{}};this.offset=0;for(b=1,c=d-1;b<=c;b++){e=b-1;this.offset+=f[b]-f[e]-a}},setItemHeight:function(b,a){a=Math.max(a,this.getMinimumHeight());if(a!==this.getItemHeight(b)){var c=this.adjustments;c.indices.push(parseInt(b,10));c.heights[b]=a}},update:function(){var d=this.adjustments,n=d.indices,l=d.heights,a=this.map,k=n.length,o=this.getMinimumHeight(),c=0,f,e,m,h,g,b;if(!d.indices.length){return false}Ext.Array.sort(n,function(j,i){return j-i});for(f=0;f<k;f++){h=n[f];g=n[f+1]||a.length-1;b=(a[h+1]!==undefined)?(a[h+1]-a[h]+c):o;m=l[h];c+=m-b;for(e=h+1;e<=g;e++){a[e]+=c}}this.offset+=c;this.adjustments={indices:[],heights:{}};return true},getItemHeight:function(a){return this.map[a+1]-this.map[a]},getTotalHeight:function(){return((this.map.length-1)*this.getMinimumHeight())+this.offset},findIndex:function(a){return this.map.length?this.binarySearch(this.map,a):0},binarySearch:function(b,d){var f=0,a=b.length;if(d<b[0]){return 0}if(d>b[a-1]){return a-1}while(f+1<a){var c=(f+a)>>1,e=b[c];if(e==d){return c}else{if(e<d){f=c}else{a=c}}}return f}},1,0,0,0,0,0,[Ext.util,\"PositionMap",362944,37,"List\",Ext.dataview.DataView,{alternateClassName:\"Ext.List\",config:{layout:\"fit\",indexBar:false,icon:null,preventSelectionOnDisclose:true,baseCls:\"x-list\",pinHeaders:true,grouped:null,onItemDisclosure:null,disclosureProperty:\"disclosure\",ui:\"normal\",defaultType:undefined,itemMap:{},itemHeight:42,variableHeights:false,refreshHeightOnUpdate:true,infinite:false,useSimpleItems:true,scrollable:null,bufferSize:20,minimumBufferDistance:5,striped:false",283661,37,"itemHeight:44},{theme:[\"Cupertino\"],itemHeight:43}],topRenderedIndex:0,topVisibleIndex:0,visibleCount:0",438841,34,",a;Ext.dataview.DataView",490864,46,283479,32,"e=this,b=e.container,c=e.getBaseCls(),f,d,a;Ext.apply(e,{listItems:[],headerItems:[],updatedItems:[],headerMap:[],scrollDockItems:{top:[],bottom:[]}});this.translationMethod=Ext.browser.is.AndroidStock2?\"cssposition\":\"csstransform\";if(!b){b=e.container=Ext.factory({xtype:\"container\",scrollable:{scroller:{autoRefresh:!e.getInfinite(),direction:\"vertical\"}}})}e.add(b);f=b.getScrollable();d=e.scrollViewElement=f.getElement();e.scrollElement=f.getScroller().getElement();e.setScrollable(f);e.scrollableBehavior=b.getScrollableBehavior();a=e.pinnedHeader=Ext.factory({xtype:\"listitemheader\",html:\"&nbsp;\"",236710,33,"this.translationMethod},cls:[c+\"-header\",c+\"-header-swap\"]});a.translate(0,-10000);a.$position=-10000;d.insertFirst(a.renderElement);e.bind(f.getScroller().getTranslatable(),\"doTranslate\",\"onTranslate\")},initialize:function(){var d=this,a=d.container,c=d.scrollViewElement,b=d.getIndexBar(),f=d.getTriggerEvent(),e=d.getTriggerCtEvent();if(b){c.appendChild(b.renderElement)}if(f){d.on(f,d.onItemTrigger,d)}if(e){d.on(e,d.onContainerTrigger,d)}a.element.on({delegate:\".\"+d.getBaseCls()+\"-disclosure\",tap:\"handleItemDisclosure\",scope:d});a.element",165684,32,"scope:d});a",356395,114,359664,86,".x-list-item\",scope:d});if(d.getStore()){d.refresh()}},onTranslate:function(b,h){var f=this,a=f.pinnedHeader,c=f.getStore(),g=c&&c.getCount(),d=f.getGrouped(),e=f.getInfinite();if(!g){f.showEmptyText();f.showEmptyScrollDock();a.$position=-10000;a.translate(0,-10000)}else{if(e&&f.itemsCount){f.handleItemUpdates(h);f.handleItemHeights();f.handleItemTransforms();if(!f.onIdleBound){Ext.AnimationQueue.onIdle(f.onAnimationIdle,f);f.onIdleBound=true}}}if(d&&f.groups&&f.groups.length&&f.getPinHeaders()){f.handlePinnedHeader(h)}this.onScrollBinder(b,h)},onScrollBinder:function(){},handleItemUpdates:function(o){var n=this,d=n.listItems,r=d.length,c=n.getListItemInfo(),e=n.getItemMap(),b=n.getBufferSize(),k=n.getStore().getCount()-1,p=n.getMinimumBufferDistance(),f=n.topVisibleIndex,j=n.topRenderedIndex,h,g,q,m,l,a;n.topVisibleIndex=m=Math.max(0,e.findIndex(-o)||0);if(f!==m){if(f>m){l=m-j;if(l<p){h=Math.min(r,p-l);if(h==r){n.topRenderedIndex=j=Math.max(0,m-(b-p));for(g=0;g<h;g++){a=j+g;q=d[g];n.updateListItem(q,a,c)}}else{for(g=0;g<h;g++){a=j-g-1;if(a<0){break}q=d.pop();d.unshift(q);n.updateListItem(q,a,c);n.topRenderedIndex--}}}}else{l=b-(m-j);if(l<p){h=Math.min(r,p-l);if(h==r){n.topRenderedIndex=j=Math.min(k-r,m-p);for(g=0;g<h;g++){a=j+g;q=d[g];n.updateListItem(q,a,c)}}else{for(g=0;g<h;g++){a=j+r+g;if(a>k){break}q=d.shift();d.push(q);n.updateListItem(q,a,c);n.topRenderedIndex++}}}}}},onAnimationIdle:function(){var m=this,d=m.getListItemInfo(),c=m.getBufferSize(),k=m.topVisibleIndex,h=m.topRenderedIndex,j=m.getStore().getCount()-1,f=m.listItems,o=f.length,b,e,g,l,n,a;b=k-h;e=h+c-k;if(b<e){if(k>0){l=e-b;for(g=0;g<l;g++){a=h-g-1;if(a<0){break}n=f.pop();f.unshift(n);m.updateListItem(n,a,d);m.topRenderedIndex--}}}else{l=b-e;for(g=0;g<l;g++){a=h+o+g;if(a>j){break}n=f.shift();f.push(n);m.updateListItem(n,a,d);m.topRenderedIndex++}}m.handleItemHeights();m.handleItemTransforms();m.onIdleBound=false},handleItemHeights:function(){var n=this,e=n.updatedItems,k=e.length,f=n.getItemMap(),b=n.getUseSimpleItems(),r=f.getMinimumHeight(),q=n.headerIndices,l=n.headerMap,c=n.getVariableHeights(),a,h,g,m,p,o,d;for(h=0;h<k;h++){p=e[h];a=p.$dataIndex;if(a!==null){if(c){o=b?p.element.getHeight():p.element.getFirstChild().getHeight();o=Math.max(o,r)}else{o=r}p.$ownItemHeight=o;m=n.scrollDockItems.top.length;if(p.isFirst){n.totalScrollDockTopHeight=0;for(g=0;g<m;g++){d=n.scrollDockItems.top[g].$scrollDockHeight;o+=d;n.totalScrollDockTopHeight+=d}}m=n.scrollDockItems.bottom.length;if(p.isLast){for(g=0;g<m;g++){d=n.scrollDockItems.bottom[g].$scrollDockHeight;o+=d}}if(q&&q[a]){o+=n.headerHeight}f.setItemHeight(a,o);p.$height=o}}f.update();o=f.getTotalHeight();l.length=0;for(h in q){if(q.hasOwnProperty(h)){l.push(f.map[h])}}n.setScrollerHeight(o);n.updatedItems.length=0},setScrollerHeight:function(c){var d=this,b=d.container.getScrollable().getScroller(),a=b.getTranslatable();if(c!=b.givenSize){b.setSize(c);b.refreshMaxPosition();b.fireEvent(\"refresh\",b);if(a.isAnimating&&a.activeEasingY&&a.activeEasingY.setMinMomentumValue){a.activeEasingY.setMinMomentumValue(-b.getMaxPosition().y)}}},handleItemTransforms:function(){var h=this,a=h.listItems,m=a.length,b=h.getItemMap(),k=h.scrollDockItems,f=h.getGrouped(),l,d,e,g,c;for(e=0;e<m;e++){l=a[e];d=b.map[l.$dataIndex];if(!l.$hidden&&l.$position!==d){l.$position=d;g=k.top.length;if(l.isFirst&&g){for(c=0;c<g;c++){k.top[c].translate(0,d);d+=k.top[c].$scrollDockHeight}}if(f&&h.headerIndices&&h.headerIndices[l.$dataIndex]){l.getHeader().translate(0,d);d+=h.headerHeight}l.translate(0,d);d+=l.$ownItemHeight;g=k.bottom.length;if(l.isLast&&g){for(c=0;c<g;c++){k.bottom[c].translate(0,d);d+=k.bottom[c].$scrollDockHeight}}}}},handlePinnedHeader:function(m){var l=this,c=l.pinnedHeader,f=l.getItemMap(),e=l.groups,k=l.headerMap,h=l.headerHeight,n=l.getStore(),d=l.totalScrollDockTopHeight,i,b,j,g,a;b=f.binarySearch(k,-m);i=e[b].children[0];if(i){j=m+k[b+1]-h;if(m>=0||(b===0&&d+m>=0)||(b===0&&-m<=k[b])){g=-10000}else{if(j<0){g=j}else{g=Math.max(0,m)}}a=n.getGroupString(i);if(c.$currentHeader!=a){c.setHtml(a);c.$currentHeader=a}if(c.$position!=g){c.translate(0,g);c.$position=g}}},createItem:function(c){var h=this,a=h.container,d=h.listItems,f=h.getInfinite(),g=h.scrollElement,i,e,b;i=Ext.factory(c);i.dataview=h;i.$height=c.minHeight;if(!f){b=h.getBaseCls()+\"-item-relative\";i.addCls(b)}e=i.getHeader();if(!f){e.addCls(b)}else{e.setTranslatable({translationMethod:this.translationMethod});e.translate(0,-10000);g.insertFirst(e.renderElement)}a.doAdd(i);d.push(i);return i},setItemsCount:function(a){var d=this,e=d.listItems,b=d.getListItemConfig(),f=a-e.length,c;for(c=0;c<f;c++){d.createItem(b)}for(c=f;c<0;c++){e.pop().destroy()}d.itemsCount=a;d.updateAllListItem",263870,34,"&&d.container.element&&a===0&&f!==0){d.container.element.redraw()}return d.listItems},updateUi:function(a,b){if(a&&a!=b&&a==\"round\"){this.setPinHeaders(false)}Ext.dataview.DataView.prototype.updateUi.apply(this,arguments)},updateListItem:function(s,d,r){var v=this,a=r.store.getAt(d),o=v.headerIndices,b=v.footerIndices,m=s.getHeader(),p=v.scrollDockItems,h=v.updatedItems,g=s.renderElement.classList.slice(),k=m.renderElement.classList.slice(),e=v.getInfinite(),q=r.store.getCount(),u=[],j=[],n=[r.headerCls,r.footerCls,r.firstCls,r.lastCls,r.selectedCls,r.stripeCls],w=[r.headerCls,r.footerCls,r.firstCls,r.lastCls],f,l,c,t;if(e){s.$position=-10000}if(!a){s.setRecord(null);if(e){s.translate(0,-10000)}else{s.hide()}if(e){m.translate(0,-10000)}else{m.hide()}s.$hidden=true;return}else{if(s.$hidden){if(!e){s.show()}s.$hidden=false}}if(e){h.push(s)}if(s.isFirst&&d!==0&&p.top.length){for(l=0,f=p.top.length;l<f;l++){c=p.top[l];if(e){c.translate(0,-10000)}}s.isFirst=false}if(s.isLast&&d!==q-1&&p.bottom.length){for(l=0,f=p.bottom.length;l<f;l++){c=p.bottom[l];if(e){c.translate(0,-10000)}}s.isLast=false}if(s.$dataIndex!==d){s.$dataIndex=d;v.fireEvent(\"itemindexchange\",v,a,d,s)}if(s.getRecord()===a){s.updateRecord(a)}else{s.setRecord(a)}if(v.isSelected(a)){u.push(r.selectedCls)}if(r.grouped){if(o[d]){u.push(r.headerCls);j.push(r.headerCls);m.setHtml(r.store.getGroupString(a));if(!e){m.renderElement.insertBefore(s.renderElement)}m.show()}else{if(e){m.translate(0,-10000)}else{m.hide()}}if(b[d]){u.push(r.footerCls);j.push(r.footerCls)}}if(!r.grouped){m.hide()}if(d===0){s.isFirst=true;u.push(r.firstCls);j.push(r.firstCls);if(!r.grouped){u.push(r.headerCls);j.push(r.headerCls)}if(!e){for(l=0,f=p.top.length;l<f;l++){c=p.top[l];if(r.grouped){c.renderElement.insertBefore(m.renderElement)}else{c.renderElement.insertBefore(s.renderElement)}}}}if(d===q-1){s.isLast=true;u.push(r.lastCls);j.push(r.lastCls);if(!r.grouped){u.push(r.footerCls);j.push(r.footerCls)}if(!e){for(l=0,f=p.bottom.length;l<f;l++){c=p.bottom[l];c.renderElement.insertAfter(s.renderElement)}}}if(r.striped&&d%2==1){u.push(r.stripeCls)}if(g){for(l=0;l<n.length;l++){Ext.Array.remove(g,n[l])}u=Ext.Array.merge(u,g)}if(k){for(l=0;l<w.length;l++){Ext.Array.remove(k,w[l])}j=Ext.Array.merge(j,k)}t=u.join(\" \");if(s.classCache!==t){s.renderElement.setCls(u);s.classCache=t}m.renderElement.setCls(j)},updateAllListItems:function(){var e=this,b=e.getStore(),a=e.listItems,g=e.getListItemInfo(),f=e.topRenderedIndex,c,d;if(b){for(c=0,d=a.length;c<d;c++){e.updateListItem(a[c],f+c,g)}}if(e.isPainted()){if(e.getInfinite()&&b&&b.getCount()){e.handleItemHeights()}e.refreshScroller()}},doRefresh:function(){var c=this,b=c.getInfinite(),a=c.container.getScrollable().getScroller(),d=c.getStore().getCount();if(b){c.getItemMap().populate(d,this.topRenderedIndex)}if(c.getGrouped()){c.refreshHeaderIndices()}if(d){c.hideScrollDockItems();c.hideEmptyText();if(!b){c.setItemsCount(d);if(c.getScrollToTopOnRefresh()){a.scrollTo(0,0)}}else{if(c.getScrollToTopOnRefresh()){c.topRenderedIndex=0;c.topVisibleIndex=0;a.position.y=0}c.updateAllListItems()}}else{c.onStoreClear()}",165853,34,"var c=this,d=c.visibleCount;if(!c.headerHeight){c.headerHeight=parseInt(c.pinnedHeader.renderElement.getHeight(),10)}if(c.getInfinite()){c.visibleCount=Math.ceil(b.height/c.getItemMap().getMinimumHeight());if(c.visibleCount!=d){c.setItemsCount(c.visibleCount+c.getBufferSize());c.fireEvent(\"updatevisiblecount\",this,c.visibleCount,d)}}else{if(c.listItems.length&&c.getGrouped()&&c.getPinHeaders()){c.updateHeaderMap()}}},refreshScroller:function(){var a=this;if(a.isPainted()){if(!a.getInfinite()&&a.getGrouped()&&a.getPinHeaders()){a.updateHeaderMap()}a.container.getScrollable().getScroller().refresh()}},updateHeaderMap:function(){var c=this,b=c.headerMap,d=c.headerIndices,e,a;b.length=0",415604,37,"e=c.getItemAt(a).getHeader();b.push(e.renderElement.dom.offsetTop)}}},applyVariableHeights:function(a){if(!this.getInfinite()){return true}return a},applyDefaultType:function(a){if(!a){a=this.getUseSimpleItems()?\"simplelistitem\":\"listitem\"}return a},applyItemMap",335904,38,"util.PositionMap,this.getItemMap())},updateItemHeight:function(a){this.getItemMap().setMinimumHeight(a)},applyIndexBa",335903,39,"dataview.IndexBar,this.getIndexBar())},updatePinHeaders:function(a){if(this.isPainted()){this.pinnedHeader.translate(0,a?this.pinnedHeader.$position:-10000)}},updateItemTpl:function(f){var d=this,e=d.listItems,c=e.length||0,a,b;for(a=0;a<c;a++){b=e[a];b.setTpl(f)}d.updateAllListItems()},updateItemCls:function(f,c){var a=this.listItems,e=a.length,b,d;for(b=0;b<e;b++){d=a[b];d.removeCls(c);d.addCls(f)}},updateIndexBar:function(a,d){var c=this,b=c.scrollViewElement;if(d){d.un({index:\"onIndex\",scope:c});if(!a){c.element.removeCls(c.getBaseCls()+\"-indexed\")}if(b){b.removeChild(d.renderElement)}}if(a){a.on({index:\"onIndex\",scope:c});if(!d){c.element.addCls(c.getBaseCls()+\"-indexed\")}if(b){b.appendChild(a.renderElement)}}},updateGrouped:function(d){var f=this,c=this.getBaseCls(),a=f.pinnedHeader,b=c+\"-grouped\",e=c+\"-ungrouped\";if(a){a.translate(0,-10000)}if(d){f.addCls(b);f.removeCls(e)}else{f.addCls(e);f.removeCls(b)}if(f.getInfinite()){f.refreshHeaderIndices();f.handleItemHeights()}f.updateAllListItems()},onStoreAdd:function(){this.doRefresh()},onStoreRemove:function(){this.doRefresh()},onStoreUpdate:function(b,a,c,f){var e=this,d;f=(typeof f===\"undefined\")?c:f;if(e.getInfinite()||(f!==c)){e.doRefresh()}else{d=e.listItems[c];if(d){e.updateListItem(d,c,e.getListItemInfo())}}",370663,50,".getScrollable().getScroller(),b=c.getInfinite();if(c.pinnedHeader){c.pinnedHeader.translate(0,-10000)}if(!b){c.setItemsCount(0);a.scrollTo(0,0)}else{c.topRenderedIndex=0;c.topVisibleIndex=0;a.position.y=0;c.updateAllListItems()}},showEmptyScrollDock:function(){var e=this,d=e.getInfinite(),f=e.scrollDockItems,g=0,a,c,b;for(a=0,c=f.top.length;a<c;a++){b=f.top[a];if(d){b.translate(0,g);g+=b.$scrollDockHeight}else{this.scrollElement.appendChild(b.renderElement)}}for(a=0,c=f.bottom.length;a<c;a++){b=f.bottom[a];if(d){b.translate(0,g);g+=b.$scrollDockHeight}else{this.scrollElement.appendChild(b.renderElement)}}},hideScrollDockItems:function(){var e=this,d=e.getInfinite(),f=e.scrollDockItems,a,c,b;if(!d){return}for(a=0,c=f.top.length;a<c;a++){b=f.top[a];b.translate(0,-10000)}for(a=0,c=f.bottom.length;a<c;a++){b=f.bottom[a];b.translate(0,-10000)}},getItemAt:function(a){var e=this.listItems",317687,40,"if(c.$dataIndex==a){return c}}},getItemIndex:function(a){return a.$dataIndex",369656,38,"listItems},getListItemInfo:function(){var b=this,a=b.getBaseCls();return{store:b.getStore(),grouped:b.getGrouped(),baseCls:a,selectedCls:b.getSelectedCls(),headerCls:a+\"-header-wrap\",footerCls:a+\"-footer-wrap\",firstCls:a+\"-item-first\",lastCls:a+\"-item-last\",stripeCls:a+\"-item-odd\",striped:b.getStriped(),itemMap:b.getItemMap(),defaultItemHeight:b.getItemHeight()}},getListItemConfig:function(){var c=this,a=c.getItemMap().getMinimumHeight(),b={xtype:c.getDefaultType(),itemConfig:c.getItemConfig(),tpl:c.getItemTpl(),minHeight:a,cls:c.getItemCls()};if(c.getInfinite()){b.translatable={translationMethod:this.translationMethod}}if(!c.getVariableHeights()){b.height=a}return b},refreshHeaderIndices:function(){var h=this,j=h.getStore(),d=j&&j.getCount(),c=j.getGrouper()?j.getGroups():null,f=h.getGrouped(),m=h.headerIndices={},l=h.footerIndices={},e,b,a,g,k;if(!f||!c){return l}k=c.length;h.groups=c;for(e=0;e<k;e++){a=c[e].children[0];g=j.indexOf(a);m[g]=true;b=g-1;if(b>=0){l[b]=true}}l[d-1]=true;return m},onIndex:function(c,f){var h=this,l=f.toLowerCase(),j=h.getStore(),d=j.getGroups(),g=d.length,k,e,b,a;for(e=0;e<g;e++){k=d[e];a=k.name.toLowerCase();if(a>=l){b=k;break}else{b=k}}if(b){this.scrollToRecord(b.children[0])}},scrollToRecord:function(f,b,c){var i=this,g=i.container.getScrollable().getScroller(),j=i.getStore(),h=j.indexOf(f);g.stopAnimation();var a=g.getContainerSize().y,l=g.getSize().y,d=l-a,e,k;if(i.getInfinite()){e=i.getItemMap().map[h]}else{k=i.listItems[h];if(k.getHeader().isPainted()){e=k.getHeader().renderElement.dom.offsetTop}else{e=k.renderElement.dom.offsetTop}}if(!c){e=Math.min(e,d)}g.scrollTo(0,e,!!b)},onItemAdd:function(c){var b=this,a=c.config;if(a.scrollDock){if(a.scrollDock==\"bottom\"){b.scrollDockItems.bottom.push(c)}else{b.scrollDockItems.top.push(c)}if(b.getInfinite()){c.on({resize:\"onScrollDockItemResize\",scope:this});c.addCls(b.getBaseCls()+\"-scrolldockitem\");c.setTranslatable({translationMethod:this.translationMethod});c.translate(0,-10000);c.$scrollDockHeight=0}b.container.doAdd(c)}else{Ext.dataview.DataView.prototype",266928,33,"},getScrollDockedItems:function(){return this.scrollDockItems.bottom.slice().concat(this.scrollDockItems.top.slice())},onScrollDockItemResize:function(g,c){var f=this,a=f.listItems,e=a.length,b,d;Ext.getCmp(g.id).$scrollDockHeight=c.height",271996,32,"Last){this.updatedItems.push(d);this.refreshScroller();break}}},onItemTouchStart:function(a){this.container.innerElement",360062,33,"delegate:\".x-list-item\",single:true,scope:this});Ext.dataview.DataView.prototype.onItemTouchStart.apply(this,this.parseEvent(a))},onItemTouchMove:function(a){Ext.dataview.DataView.prototype.onItemTouchMove.apply(this,this.parseEvent(a))},onItemTouchEnd:function(a){this.container.innerElement",357120,33,"delegate:\".x-list-item\",scope:this});Ext.dataview.DataView.prototype.onItemTouchEnd.apply(this,this.parseEvent(a))},onItemTap:function(a){Ext.dataview.DataView.prototype.onItemTap.apply(this,this.parseEvent(a))},onItemTapHold:function(a){Ext.dataview.DataView.prototype.onItemTapHold.apply(this,this.parseEvent(a))},onItemSingleTap:function(a){Ext.dataview.DataView.prototype.onItemSingleTap.apply(this,this.parseEvent(a))},onItemDoubleTap:function(a){Ext.dataview.DataView.prototype.onItemDoubleTap.apply(this,this.parseEvent(a))},onItemSwipe:function(a){Ext.dataview.DataView.prototype.onItemSwipe.apply(this,this.parseEvent(a))},parseEvent:function(d){var b=this,c=Ext.fly(d.getTarget()).findParent(\".x-list-item\",8),a=Ext.getCmp(c.id);return[b,a,a.$dataIndex,d]},doItemSelect:function(c,a){Ext.dataview.DataView.prototype.doItemSelect.apply(this,arguments);var ",365215,42,"c.container&&!c.isDestroyed&&b&&b.isComponent){b.classCache=b.renderElement.classList.slice()",367476,32,"Ext.dataview.DataView.prototype.doItemDeselect.apply(this,arguments);var ",365215,42,"b&&b.isComponent){b.classCache=b.renderElement.classList.slice()}},applyOnItemDisclosure:function(a){if(Ext.isFunction(a)){return{scope:this,handler:a}}return a},handleItemDisclosure:function(f){var d=this,c=Ext.getCmp(Ext.get(f.getTarget()).up(\".x-list-item\").id),b=c.$dataIndex,a=d.getStore().getAt(b);d.fireAction(\"disclose\",[d,a,c,b,f],\"doDisclose\")},doDisclose:function(f,a,d,c,g){var b=f.getOnItemDisclosure();if(b&&b.handler){b.handler.call(b.scope||f,a,d,c,g)}},onItemTrigger:function(c,b,f,a,d){if(!(this.getPreventSelectionOnDisclose()&&Ext.fly(d.target).hasCls(this.getBaseCls()+\"-disclosure\"))){Ext.dataview.DataView.prototype.onItemTrigger.apply(this,arguments)}",359193,32,"a=d.listItems,c=a.length,b;Ext.dataview.DataView",216080,41,"if(d.onIdleBound){Ext.AnimationQueue.unIdle(d.onAnimationIdle,d)}for(b=0;b<c;b++){a[b].destroy()}d.listItems=null}},1,[\"list",371230,38,",\"lis",284543,35,"dataview:true,list:true},[\"widget.list\"]",189923,97,"dataview,\"List\",Ext,\"Lis",444223,35,443852,84964,"Status",528824,35,"status",528876,35,"Status",537008,34,"model.PosConfig",528824,35,"name",528876,35,"PosConfig",537008,34,"store.Status",528967,54,"Status",529029,34,"Status",529071,39,"store.PosConfig",528967,54,"PosConfig",529029,34,"PosConfig",529071,185,",navigationBar:{items:[{xtype:\"button\",id:\"refreshButton\",iconCls:\"refresh\",align:\"right\",action:\"reloadData\"}]",529255,8684,"StatusView\",Ext.Panel,{id:\"statusView\",config:{reloadable:true,items:[{xtype:\"dataview\",id:\"statusFilterView\",store:\"StatusStore\",scrollable:null,cls:\"StatusFilter\",itemCls:\"StatusItem\"",538076,35,"status",538119,32,"height:\"100%\",cls:\"StatusData\",itemCls:\"StatusDataItem\",store:\"Status",538173,36,"status\"]",321504,35,"barkeeper_status",538272,55,"status:true},[\"widget.barkeeper_status\"],0,[BarKeeper.view,\"Status",538399,113,",refreshButton:\"#refreshButton",538511,42,",activeitemchange:\"onActiveItemChange\"},\"button[action=reloadData]\":{release:\"onReloadData",538552,548,"status",539108,41,",getActiveItem:function(){var a=this.getMainView().getActiveItem();if(a==this.basePanel){a=this.basePanel.getActiveItem()}return a},onActiveItemChange:function(){var a=ViewManager.hasViewOption(this.getActiveItem(),\"reloadable\");this.getRefreshButton().setHidden(!a)},onReloadData:function(){this.getActiveItem().fireEvent(\"reloadData\")",539148,91,"Status",539247,40,"mainView:\"#mainView\",view:\"#statusView\",filterView:\"#statusFilterView\",statusView:\"#status",539364,46,",reloadData:\"onReloadData\"},filterView:{itemsingletap:\"onFilterSelect",539409,39,539489,48,"var c=Ext.create(\"Ext.XTemplate\",'<div class=\"StatusItemTable\">','<div class=\"StatusItemTitle\">',\"{status.title}\",\"</div>\",'<div class=\"StatusItemRange\">',\"{status.range}\",\"</div>\",\"</div>\",'<div class=\"StatusItemName\">',\"{status.name}\",'<div class=\"StatusItemGroup\">',\"{status.group}\",\"</div>\",\"</div>\");a.getFilterView().setItemTpl(c);var d=Ext.create(\"Ext.XTemplate\",'<tpl if=\"status.total.amount\">','<div class=\"StatusDataTotal\">','<div class=\"StatusDataTotalTable\">','<div class=\"StatusDataTotalTitle\">',\"Verk\ufffff\ufffffufe ({status.total.count})\",\"</div>\",'<div class=\"StatusDataTotalAmount\">',\"{[futil.formatFloat(values.status.total.amount)]} {status.total.currency}\",\"</div>\",\"</div>\",\"</div>\",\"</tpl>\",'<tpl if=\"(status.byJournal && status.byJournal.length &gt; 0) || (status.byUser && status.byUser.length &gt; 0)\">','<div class=\"StatusDataSaleBy\">','<tpl for=\"status.byJournal\">','<div class=\"StatusDataTable\">','<div class=\"StatusDataTotalTitle\">',\"{key} ({count})\",\"</div>\",'<div class=\"StatusDataTotalAmount\">',\"{[futil.formatFloat(values.amount)]} {currency}\",\"</div>\",\"</div>\",\"</tpl>\",\"</div>\",'<div class=\"StatusDataSaleBy\">','<tpl for=\"status.byUser\">','<div class=\"StatusDataTable\">','<div class=\"StatusDataTotalTitle\">',\"{key} ({count})\",\"</div>\",'<div class=\"StatusDataTotalAmount\">',\"{[futil.formatFloat(values.amount)]} {currency}\",\"</div>\",\"</div>\",'<div class=\"StatusDataSaleByInner\">','<tpl for=\"byJournal\">','<div class=\"StatusDataTable\">','<div class=\"StatusDataTotalTitle\">',\"{key} ({count})\",\"</div>\",'<div class=\"StatusDataTotalAmount\">',\"{[futil.formatFloat(values.amount)]} {currency}\",\"</div>\",\"</div>\",\"</tpl>\",\"</div>\",\"</tpl>\",\"</div>\",'<div class=\"StatusByTime\">','<tpl for=\"status.byTime\">','<div class=\"StatusTimeTable\">','<div class=\"StatusTimeTableRow\">','<div class=\"StatusDataTotalTitle\">',\"{key} ({count})\",\"</div>\",'<div class=\"StatusDataTotalAmount\">',\"{[futil.formatFloat(values.amount)]} {currency}\",\"</div>\",\"</div>\",'<div class=\"StatusDataSaleByInner\">','<tpl for=\"byUser\">','<div class=\"StatusDataTable\">','<div class=\"StatusDataTotalTitle\">',\"{key} ({count})\",\"</div>\",'<div class=\"StatusDataTotalAmount\">',\"{[futil.formatFloat(values.amount)]} {currency}\",\"</div>\",\"</div>\",\"</tpl>\",\"</div>\",\"</div>\",\"</tpl>\",'<div class=\"StatusTimeTable\">',\"</div>\",\"</div>\",\"</tpl>\");a.getStatusView().setItemTpl(d);a.data=Ext.StoreMgr.lookup(\"StatusStore\").add({status:{title:\"Keine Daten\",group:\"\",range:\"\",name:\"\",options:b}})[0]}ViewManager.startLoading(\"Lade Daten...\");Core.getModel(\"pos.config\").call(\"barkeeper_status\",[b],{context:Core.getContext()}).then(function(e){ViewManager.stopLoading();a.data.set(\"status\",e)},function(e){ViewManager.handleError(e)})},onReloadData:function(){var a=this.data.get(\"status\");var b=a.options||{};this.loadData(b)},onFilterSelect:function(a,b,h,f,g,d){var c=Ext.get(g.target);if(c.hasCls(\"StatusItemName\")||c.up(\"div.StatusItemName\")){this.selectPosConfig()}},selectPosConfig",538564,49,"Lade Daten...\");Core.getModel(\"pos.config\").call(\"search_read\",[[[\"parent_user_id\",\"=\",null],[\"state\",\"=\",\"active\"]],[\"name\"]],{context:Core.getContext()}).then(",538728,42,"StoreMgr.lookup(\"PosConfigStore\").setData(b);a.getMainView().push({title:\"Kassen\",xtype:\"list\",store:\"PosConfigStore\",itemTpl:\"{name}\",listeners:{itemsingletap:function(g,f,h,d){var c=a.data.get(\"status\");var e=c.options||{};e.config_id=d.getId();e.date=null;a.loadData(e);a.getMainView().pop()}}})},function(b){ViewManager.handleError(b)})",539148,38,"Status",539655,85,"Status\",\"BarKeeper.model.PosConfig\"],stores:[\"BarKeeper.store.StatusStore\",\"BarKeeper.store.PosConfig",539784,33,"Status",539825,778,"var futil={comma:\",\",activetap:false};futil.keys=function(c){if(typeof c!=\"object\"&&typeof c!=\"function\"||c===null){throw TypeError(\"Object.keys called on non-object\")}var a=[];for(var ",257994,32,"a.push(b)}}return a};futil.dateToStr=function(a){return a.toISOString().substring(0,10)};futil.datetimeToStr=function(a){var b=a.toISOString();return b.substring(0,10)+\" \"+b.substring(11,19)};futil.strToDate=function(b){if(b.length==19){b=b.substring(0,10)+\"T\"+b.substring(11,19)+\"Z\"}var a=new Date(b);return a};futil.strToIsoDate=function(b){var a=futil.strToDate(b);return a.toISOString()};futil.strToLocalDateTime=function(b){var a=futil.strToDate(b)};futil.isDoubleTap=function(){if(!futil.activetap){futil.activetap=true;setTimeout(function(){futil.activetap=false},500);return false}return true};futil.screenWidth=function(){var a=(window.innerWidth>0)?window.innerWidth:screen.width;return a};futil.screenHeight=function(){var a=(window.innerHeight>0)?window.innerHeight:screen.height;return a};futil.physicalScreenWidth=function(){return window.screen.width*window.devicePixelRatio};futil.physicalScreenHeight=function(){return window.screen.height*window.devicePixelRatio};futil.hasSmallRes=function(){return Math.max(futil.screenWidth(),futil.screenHeight())<1024};futil.formatFloat=function(a,b){if(!a){a=0}if(b===0){return a.toString().replace(\".\",futil.comma)}else{if(!b){b=2}}return a.toFixed(b).replace(\".\",futil.comma)};futil.parseFloat=function(a){if(!a){return 0}return parseFloat(a.replace(futil.comma,\".\"))};"]