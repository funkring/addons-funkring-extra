<?xml version="1.0" encoding="UTF-8"?>
<openerp>
  <data>
    <record id="form_fclipboard_item" model="ir.ui.view">
      <field name="name">fclipboard.form_fclipboard_item</field>
      <field name="model">fclipboard.item</field>
      <field name="arch" type="xml">
        <form string="Item">
            <sheet>
                <div>                    
                    <h1>
                        <field name="name" default_focus="1" placeholder="Name" />                        
                    </h1>
                    <field name="root_id" attrs="{'invisible':[('parent_id','==',False)]}"/>
                    <field name="code" class="oe_inline" placeholder="Code"/>
                </div>
                <group>
                    <group>
                        <field name="section"/>
                        <field name="type"/>
                        <field name="valc" attrs="{'invisible':[('type','!=','c')]}"/>
                        <field name="valt" attrs="{'invisible':[('type','!=','t')]}"/>
                        <field name="valf" attrs="{'invisible':[('type','!=','f')]}"/>
                        <field name="vali" attrs="{'invisible':[('type','!=','i')]}"/>
                        <field name="valb" attrs="{'invisible':[('type','!=','b')]}"/>
                        <field name="vald" attrs="{'invisible':[('type','!=','d')]}"/>
                    </group>     
                    <group>                              
                        <field name="active"/>    
                        <field name="is_template"/>
                        <field name="parent_id" invisible="context.get('item_view',False)" domain="[('id','!=',active_id),'!',('id','child_of',active_id)]"/>
                        <field name="owner_id" attrs="{'invisible':[('parent_id','!=',False)]}"/>                       
                        <field name="ref"/>                        
                    </group>
                </group>
                <div>
                    <field name="child_ids" 
                        context="{'item_view':True}">
                        <tree>
                            <field name="sequence" widget="handle"/>
                            <field name="name"/>
                            <field name="type"/>       
                            <field name="section"/>
                            <field name="code"/>
                            <field name="ref"/>
                            <field name="value"/>
                        </tree>                        
                    </field>
                </div>
                
            </sheet>
        </form>
      </field>
    </record>

    <record id="tree_fclipboard_item" model="ir.ui.view">
      <field name="name">fclipboard.tree_fclipboard_item</field>
      <field name="model">fclipboard.item</field>
      <field name="arch" type="xml">
        <tree string="Items" >
            <field name="name"/>
            <field name="type"/>    
            <field name="section"/>     
            <field name="parent_id"/>
            <field name="is_template"/>
            <field name="owner_id"/>            
            <field name="ref"/>
            <field name="value"/>            
        </tree>
      </field>
    </record>

    <record id="search_fclipboard_item" model="ir.ui.view">
      <field name="name">fclipboard.search_fclipboard_item</field>
      <field name="model">fclipboard.item</field>
      <field name="arch" type="xml">
        <search string="Item">
            <field name="name"/>
            <field name="code"/>
            <field name="type"/>
            <field name="ref"/>
            <field name="parent_id"/>
            <filter string="Document" name="document" domain="[('parent_id','=',False)]"/>
            <filter string="Template" name="template" domain="[('is_template','=',True)]"/>
            <group expand="1" string="Group By...">
                <filter string="Parent" context="{'group_by': 'parent_id'}" />
            </group>          
        </search>
      </field>
    </record>

    <record id="action_fclipboard_item" model="ir.actions.act_window">
      <field name="name">Item</field>
      <field name="res_model">fclipboard.item</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
      <field name="context">{"search_default_document":1}</field>  
    </record>

    <menuitem id="menu_fclipboard_item" name="Clipboard" parent="base.menu_sales"
      sequence="10"
      action="action_fclipboard_item"/>
  </data>
</openerp>
